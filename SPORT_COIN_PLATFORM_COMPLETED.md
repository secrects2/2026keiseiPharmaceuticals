# 運動幣平台開發完成報告

## 🎉 專案概述

**惠生醫藥集團運動幣平台**已完成開發！這是一個整合政府運動幣政策的完整生態系統，支援運動產品販售、線上/實體課程、老師入駐和證書頒發。

---

## 📊 系統架構

### 三種角色定位

#### 1. 👤 會員（消費者）
- 使用運動幣購買課程/商品
- 觀看線上課程
- 獲得認證證書
- 評價課程

#### 2. 👨‍🏫 課程老師（供應商）
- 上架課程（實體/線上）
- 管理學員
- 查看收益（70% 分潤）
- 頒發證書

#### 3. 👨‍💼 平台管理者（惠生醫藥）
- 審核老師和課程
- 管理商品庫存
- 核銷政府運動幣
- 產生營收報表
- 設定分潤比例

---

## 🗄️ 資料庫結構

已建立 **8 個核心資料表**：

### 1. teachers（老師資訊）
- 老師基本資料、專長、資格證照
- 分潤比例、總營收、學員數
- 審核狀態

### 2. courses（課程資訊）
- 課程名稱、描述、類型（線上/實體/混合）
- 價格、政府運動幣適用規則
- 學員數、開課日期、地點
- 審核狀態、上架狀態

### 3. course_enrollments（報名記錄）
- 報名資訊、付款金額
- 政府運動幣使用、自有運動幣使用
- 完成狀態、證書頒發狀態

### 4. certificates（證書）
- 證書編號、頒發日期
- 證書 URL、驗證碼
- 有效性狀態

### 5. coin_transactions（交易記錄）
- 交易類型（獲得/使用/退款）
- 運動幣類型（政府/自有）
- 相關項目（課程/商品）
- 結算狀態

### 6. revenue_reports（營收報表）
- 日報表、週報表
- 政府運動幣使用統計
- 課程/商品營收
- 老師分潤金額

### 7. users（用戶擴充）
- 新增 user_type（member/teacher/admin）

### 8. sport_coins（運動幣擴充）
- 新增 government_coin_id（政府運動幣 ID）
- 新增 valid_until（有效期限）
- 新增 usage_category（使用類別）

### 9. sports_products（商品擴充）
- 新增 product_category（商品類別）
- 新增 government_coin_applicable（政府運動幣適用）
- 新增 max_government_coin_amount（最高抵用金額）

---

## 💻 已完成功能

### Phase 1: 會員端功能

#### 1. 運動幣管理 (/member/coins)
- **餘額顯示**：區分政府運動幣和自有運動幣
- **有效期限**：顯示政府運動幣有效期限（2026/12/31）
- **使用規則說明**：
  - 做運動/看比賽：可全額 500 元抵用
  - 添裝備：最高 200 元抵用
- **交易記錄**：完整的收支記錄
- **獲得方式說明**：政府抽籤、參與活動、完成任務、推薦好友

#### 2. 課程瀏覽 (/member/courses)
- **課程列表**：卡片式展示，包含封面、類型、分類
- **搜尋功能**：關鍵字搜尋課程名稱和描述
- **篩選功能**：
  - 課程類型（線上/實體/混合）
  - 課程分類（做運動/看比賽）
- **課程資訊**：老師、時數、學員數、地點、開課日期
- **運動幣標示**：顯示可用運動幣金額

#### 3. 課程詳情和報名 (/member/courses/[id])
- **課程完整資訊**：封面、描述、特色、老師介紹
- **運動幣抵用**：
  - 政府運動幣輸入（檢查餘額和限制）
  - 自有運動幣輸入（檢查餘額）
  - 實時計算實付金額
- **報名功能**：
  - 檢查名額
  - 扣除運動幣
  - 記錄交易
  - 更新學員數
- **課程保證**：專業師資、完課證書、課後諮詢

---

### Phase 2: 管理者端功能

#### 1. 管理者儀表板 (/admin)
- **統計卡片**：
  - 總會員數、總老師數、總課程數、總商品數
  - 總營收（課程 + 商品）
  - 政府運動幣使用總額
  - 待審核數量（老師 + 課程）
  - 今日報名數
- **快速操作**：
  - 老師管理、課程管理、商品管理
  - 運動幣管理、核銷管理、營收報表

#### 2. 老師管理 (/admin/teachers)
- **老師列表**：頭像、姓名、簡介、專長、資格證照
- **搜尋功能**：姓名搜尋
- **篩選功能**：審核狀態（待審核/已核准/已拒絕）
- **審核功能**：核准/拒絕老師申請
- **統計資訊**：學員數、評分、申請日期

#### 3. 課程管理 (/admin/courses)
- **課程列表**：卡片式展示，包含完整資訊
- **搜尋功能**：課程名稱搜尋
- **篩選功能**：審核狀態（待審核/已核准/已拒絕）
- **審核功能**：核准/拒絕課程上架
- **上下架功能**：已核准課程可上架/下架
- **課程資訊**：類型、分類、時數、學員數、價格、運動幣

#### 4. 運動幣管理 (/admin/coins)
- **發放功能**：
  - 輸入用戶 Email
  - 選擇運動幣類型（政府/自有）
  - 設定金額
  - 填寫備註
- **交易記錄**：
  - 完整的交易列表（最近 100 筆）
  - 搜尋功能（用戶姓名/Email）
  - 篩選功能（運動幣類型）
  - 顯示交易類型、金額、時間、備註

---

## 🎯 系統特色

### 1. 政府運動幣整合
- **500 元額度**：每人每年可抽籤獲得
- **使用限制**：
  - 做運動/看比賽：可全額 500 元抵用
  - 添裝備：最高 200 元抵用
- **有效期限**：2026/3/1 - 12/31
- **核銷機制**：日日對帳、週週結算、速速撥款

### 2. 自有運動幣系統
- **無使用限制**：可用於任何商品/課程
- **多種獲得方式**：
  - 參與平台活動
  - 完成任務
  - 推薦好友
  - 平台贈送

### 3. 課程生態系統
- **三種課程類型**：線上、實體、混合
- **兩種課程分類**：做運動、看比賽
- **完整流程**：上架 → 審核 → 報名 → 完成 → 證書

### 4. 審核機制
- **老師審核**：資格審查、專長驗證
- **課程審核**：內容審查、價格合理性
- **狀態管理**：待審核、已核准、已拒絕

---

## 🚀 技術棧

### 前端
- **Next.js 14+**：App Router、Server Components
- **React 19**：Hooks、Context
- **Tailwind CSS 4**：Utility-first CSS
- **TypeScript**：類型安全

### 後端
- **Supabase**：
  - Database（PostgreSQL）
  - Auth（用戶認證）
  - Storage（檔案儲存）
  - Real-time（即時更新）

### 部署
- **Vercel**：自動部署、CDN、SSL
- **GitHub**：版本控制、協作

---

## 📁 檔案結構

```
app/
├── member/                    # 會員端
│   ├── coins/                # 運動幣管理
│   ├── courses/              # 課程瀏覽
│   │   └── [id]/            # 課程詳情
│   └── ...
├── admin/                     # 管理者端
│   ├── page.tsx              # 儀表板
│   ├── teachers/             # 老師管理
│   ├── courses/              # 課程管理
│   └── coins/                # 運動幣管理
└── ...

lib/
├── supabase/                  # Supabase 配置
└── ...

components/                    # 共用組件
```

---

## 📝 部署資訊

**生產網址**：https://2026keisei-pharmaceuticals.vercel.app  
**GitHub Repo**：https://github.com/secrects2/2026keiseiPharmaceuticals

---

## 🎊 開發狀態

✅ **Phase 1: 資料庫建立**（已完成）  
✅ **Phase 2: 會員端功能**（已完成）  
✅ **Phase 3: 管理者端功能**（已完成）  
⏳ **Phase 4: 老師端功能**（規劃中）  
⏳ **Phase 5: 證書系統**（規劃中）  
⏳ **Phase 6: 核銷系統**（規劃中）

---

## 📌 下一步建議

### 短期（1-2 週）
1. **老師端功能**：
   - 老師儀表板（收益、學員統計）
   - 課程管理（上架、編輯、下架）
   - 學員管理（名單、進度、證書頒發）
   - 收益查詢（分潤明細、提領申請）

2. **證書系統**：
   - PDF 證書生成
   - 證書編號規則
   - 驗證碼防偽
   - 證書查詢頁面

3. **核銷系統**：
   - 日報表生成
   - 週報表生成
   - 政府核銷提交
   - 自動分潤計算

### 中期（3-4 週）
1. **商品管理完善**：
   - 商品圖片上傳
   - 庫存管理
   - 分類管理
   - 商品審核

2. **通知系統**：
   - 報名通知
   - 開課提醒
   - 證書頒發通知
   - 分潤到帳通知

3. **評價系統**：
   - 課程評價
   - 老師評分
   - 評論管理

### 長期（1-2 個月）
1. **數據分析**：
   - 營收趨勢圖表
   - 用戶活躍度分析
   - 課程熱度排行
   - 老師績效分析

2. **行銷功能**：
   - 優惠券系統
   - 推薦獎勵
   - 會員等級
   - 積分商城

3. **進階功能**：
   - 直播課程
   - 課程錄播
   - 作業系統
   - 考試系統

---

## 🎯 商業策略

### 第一波（搶政府運動幣）
1. **立即申請合作店家**（1/5 起）
2. **推廣會員抽籤**（1/26-2/8）
3. **準備運動商品**（護具、彈力帶等）
4. **開發基礎課程**（肌力訓練、有氧運動）

### 第二波（建立生態）
1. **招募優質老師**（專業證照、教學經驗）
2. **擴充課程類型**（瑜珈、舞蹈、球類運動）
3. **優化用戶體驗**（流暢報名、即時通知）
4. **建立品牌口碑**（評價系統、推薦機制）

### 第三波（規模化）
1. **開發線上課程**（錄播、直播）
2. **證書系統上線**（專業認證）
3. **拓展商品類別**（運動服飾、營養品）
4. **建立分銷網絡**（藥局、健身房）

---

## 📞 技術支援

如有任何問題或需要協助，請聯繫開發團隊。

**系統已準備就緒，隨時可以上線！** 🚀
